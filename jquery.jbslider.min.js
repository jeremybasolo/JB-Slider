(function(a){a.fn.jbslider=function(b){var c=a.extend({},a.fn.jbslider.defaults,b);return this.each(function(){var b=a(this);var d=a("li",b).length;b.wrap('<div id="'+c.id+'" class="carousel" />');var e=a("#"+c.id);var f=0;b.css("width",c.width*d);b.css("height",c.height);b.css("margin",0);b.css("padding",0);a("li",b).css("width",c.width);a("li",b).css("height",c.height);a("li",b).css("float","left");a("li",b).css("margin",0);e.css("width",c.width);e.css("overflow","hidden");a("li:eq(0)",b).addClass("current");e.append('<nav class="controls"><a href="#" class="previous">Previous</a><a href="#" class="next">Next</a></nav>');var g=function(d,g){var h=-(d*c.width);var i=f;b.animate({marginLeft:h},c.speed,function(){if(g){a("li:eq("+i+") iframe",b).each(function(){a(this).attr("src",a(this).attr("src"))})}});f=d;if(c.pagination==true){a(".pagination li",e).removeClass("current");a(".pagination li:eq("+f+")",e).addClass("current")}a("li",b).removeClass("current");a("li:eq("+f+")",b).addClass("current")};var h=function(){a(".next",e).click(function(){var e=a("li.current",b).index()+1;if(e==d){e=0}g(e,true);if(c.autoPlayTime>0){n=true}return false})};var i=function(){a(".previous",e).click(function(){var e=a("li.current",b).index()-1;if(e==-1){e=d-1}g(e,true);if(c.autoPlayTime>0){n=true}return false})};h();i();if(c.arrowControl==true){function j(d){d=d?d:window.event?event:null;if(d){var e=a("li.current",b).index();var f=a("li",b).length;switch(d.keyCode){case 37:if(e==0){g(f-1,true)}else{g(e-1,true)}if(c.autoPlayTime>0){n=true}break;case 39:if(e+1>=f){g(0)}else{g(e+1,true)}if(c.autoPlayTime>0){n=true}break}}}document.onkeyup=j}if(c.pagination==true){var k='<ul class="pagination">';for(var l=0;l<d;l++){k=k+'<li><a href="#" data-position="'+l+'">'+(l+1)+"</a></li>"}k=k+"</ul>";a(".controls .next",e).before(k);a(".pagination li:eq("+f+")",e).addClass("current");var m=function(){a(".pagination li a",e).click(function(){g(a(this).data("position"),true);if(c.autoPlayTime>0){n=true}return false})};m()}if(c.autoPlayTime>0){var n=false;setInterval(function(){if(n==false){f=f+1;if(f>=d){f=0}g(f,false)}},c.autoPlayTime);b.mouseenter(function(){n=true})}})};a.fn.jbslider.defaults={id:"jbSliderWrapper",width:750,height:300,speed:500,pagination:false,arrowControl:true,autoPlayTime:0}})(jQuery)