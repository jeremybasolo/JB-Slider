(function(a){a.fn.jbslider=function(b){var c=a.extend({},a.fn.jbslider.defaults,b);return this.each(function(){var b=a(this);var d=a("li",b).length;b.wrap('<div id="'+c.id+'" class="carousel" />');var e=a("#"+c.id);var f=0;b.css("width",c.width*d);b.css("height",c.height);b.css("margin",0);b.css("padding",0);a("li",b).css("width",c.width);a("li",b).css("height",c.height);a("li",b).css("float","left");a("li",b).css("margin",0);e.css("width",c.width);e.css("overflow","hidden");a("li:eq(0)",b).addClass("current");e.append('<nav class="controls"><a href="#" class="previous">Previous</a><a href="#" class="next">Next</a></nav>');var g=function(d,g){var h=-(d*c.width);var i=f;b.animate({marginLeft:h},c.speed,function(){if(g){a("li:eq("+i+") iframe",b).each(function(){a(this).attr("src",a(this).attr("src"))})}});f=d;a(".pagination li",e).removeClass("current");a(".pagination li:eq("+f+")",e).addClass("current");a("li",b).removeClass("current");a("li:eq("+f+")",b).addClass("current")};var h=function(){a(".next",e).click(function(){var e=a("li.current",b).index()+1;if(e==d){e=0}g(e,true);if(c.autoPlayTime>0){m=true}return false})};var i=function(){a(".previous",e).click(function(){var e=a("li.current",b).index()-1;if(e==-1){e=d-1}g(e,true);if(c.autoPlayTime>0){m=true}return false})};h();i();if(c.pagination==true){var j='<ul class="pagination">';for(var k=0;k<d;k++){j=j+'<li><a href="#" data-position="'+k+'">'+(k+1)+"</a></li>"}j=j+"</ul>";a(".controls .next",e).before(j);a(".pagination li:eq("+f+")",e).addClass("current");var l=function(){a(".pagination li a",e).click(function(){g(a(this).data("position"),true);if(c.autoPlayTime>0){m=true}return false})};l()}if(c.autoPlayTime>0){var m=false;setInterval(function(){if(m==false){f=f+1;if(f>=d){f=0}g(f,false)}},c.autoPlayTime);b.mouseenter(function(){m=true})}})};a.fn.jbslider.defaults={id:"jbSliderWrapper",width:750,height:300,speed:500,pagination:false,autoPlayTime:0}})(jQuery)